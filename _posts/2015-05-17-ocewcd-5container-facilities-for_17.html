---
title: "OCEJWCD - 5.Container facilities for servlets and JSPs (part2)"
layout: "post"
permalink: "/2015/05/ocewcd-5container-facilities-for_17.html"
uuid: "4940018123184782522"
guid: "tag:blogger.com,1999:blog-1318933819495649597.post-4940018123184782522"
date: "2015-05-17 13:09:00"
updated: "2015-08-22 18:09:53"
description: 
blogger:
    siteid: "1318933819495649597"
    postid: "4940018123184782522"
    comments: "0"
categories: [OCEJWCD]
author: 
    name: "Patricia Arguello"
    url: "https://plus.google.com/104204871599189383036?rel=author"
    image: "//lh3.googleusercontent.com/-VnywQdHnD-s/AAAAAAAAAAI/AAAAAAAAAMU/YbM3CsE6nCI/s32-c/photo.jpg"
---

<div class="css-full-post-content js-full-post-content">
<span style="font-family: Verdana, sans-serif;"><i>OCEJWCD (SCWCD) - 1Z0-899 - Web Component Developer Certification</i></span><br /><span style="font-family: Verdana, sans-serif;"><i><br /></i></span><span style="font-family: Verdana, sans-serif;"><b>5.3. Create and use context and init parameters</b></span><br /><div><ul><li><b style="font-family: Verdana, sans-serif;">Application init parameters</b></li></ul></div><div><span style="font-family: Verdana, sans-serif;">The class that the container will use at application level is </span><b style="font-family: Verdana, sans-serif;">ServletContext</b><span style="font-family: Verdana, sans-serif;">.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">Defining init parameters in deployment descriptor:</span></div><div><pre style="background-color: #f9f9fb; border: 1px solid rgb(217, 217, 226); box-sizing: border-box; font-family: menlo, monaco, 'Courier New', Courier, mono, serif; font-size: 13px; line-height: 1.615; margin-bottom: 1em; overflow: auto; padding: 5px; word-wrap: normal !important;">&lt;context-param&gt;<br />  &lt;param-name&gt;name1&lt;/param-name&gt;<br />  &lt;param-value&gt;value1&lt;/param-value&gt;<br />&lt;/context-param&gt;</pre></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Verdana, sans-serif;">Retrieving init parameters:</span></div><div><span style="font-family: Courier New, Courier, monospace;">getServletContext().getInitParameter("parameter1");</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Verdana, sans-serif;">For the initialization process in an application the ServletContextListener can be defined (this code will run before the rest of the application for example to get the init parameters and create a database connection,..etc).</span><br /><pre style="background-color: #f9f9fb; border: 1px solid rgb(217, 217, 226); box-sizing: border-box; font-family: menlo, monaco, 'Courier New', Courier, mono, serif; font-size: 13px; line-height: 1.615; margin-bottom: 1em; overflow: auto; padding: 5px; word-wrap: normal !important;">&lt;context-param&gt;<br />&lt;param-name&gt;name1&lt;/param-name&gt;<br />&lt;param-value&gt;value1&lt;/param-value&gt;<br />&lt;/context-param&gt;<br />&lt;listener&gt;<br />  &lt;listener-class&gt;example.MyServletContextListener&lt;/listener-class&gt;<br />&lt;/listener&gt;</pre></div><span style="font-family: Verdana, sans-serif;"><b><br /></b></span><span style="font-family: Verdana, sans-serif;">Example: The servletContextListener class will retrieve the init parameters, in this case a property "blogName", and then servletContext will be accessed to display the property.</span><br /><script src="https://gist.github.com/parguello/d8c00228577be352df7a.js"></script><script src="https://gist.github.com/parguello/f2f6c89a35a48ff89ae7.js"></script><script src="https://gist.github.com/parguello/d81d2c9c88c07e3e1ca7.js"></script><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;"></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-EuahxMF_veQ/VViOz9VgbaI/AAAAAAAAAUE/0TCgVQK5fC0/s1600/ServletContextExample.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="188" src="http://1.bp.blogspot.com/-EuahxMF_veQ/VViOz9VgbaI/AAAAAAAAAUE/0TCgVQK5fC0/s320/ServletContextExample.JPG" width="320" /></a></div><span style="font-family: Verdana, sans-serif;">This can be useful when we define properties as user, password, urls, driver and we want to create a database connection (at application level), and it will be perform before any servlet is initialized. It can be useful to access to properties file or other resources (IO operations) to retrieve global parameters.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><br /><ul><li><b style="font-family: Verdana, sans-serif;">Servlet init parameters</b></li></ul><span style="font-family: Verdana, sans-serif;">The class that the container will use to init the servlet is <b>ServletConfig</b>.</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">ServletConfig methods:</span><br /><span style="font-family: Verdana, sans-serif;">-Parameters: getInitParameter(String name), getInitParameterNames()</span><br /><span style="font-family: Verdana, sans-serif;">-Context : getServletContext()</span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">To use init parameters there are 2 options:</span><br /><ul><li><span style="font-family: Verdana, sans-serif;">By deployment descriptor</span></li><li><span style="font-family: Verdana, sans-serif;">By annotations&nbsp;</span></li></ul><span style="font-family: Verdana, sans-serif;">Note: In case of using both for the same parameters, the deployment descriptor will have precedence.</span><br /><pre style="background-color: #f9f9fb; border: 1px solid rgb(217, 217, 226); box-sizing: border-box; font-family: menlo, monaco, 'Courier New', Courier, mono, serif; font-size: 13px; line-height: 1.615; margin-bottom: 1em; overflow: auto; padding: 5px; word-wrap: normal !important;"> &lt;servlet&gt;<br />    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;<br />    &lt;servlet-class&gt;example.MyServlet&lt;/servlet-class&gt;<br />    <span style="color: blue;">&lt;init-param&gt;<br />      &lt;param-name&gt;parameter1&lt;/param-name&gt;<br />      &lt;param-value&gt;value1&lt;/param-value&gt;<br />    &lt;/init-param&gt;<br />    &lt;init-param&gt; <br />      &lt;param-name&gt;parameter2&lt;/param-name&gt;<br />      &lt;param-value&gt;value2&lt;/param-value&gt;<br />    &lt;/init-param&gt;</span><br />  &lt;/servlet&gt;<br />  &lt;servlet-mapping&gt;<br />    &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;<br />    &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;<br />  &lt;/servlet-mapping&gt;</pre><div><br /></div><span style="font-family: Verdana, sans-serif;">The url-pattern can be:</span><br /><ul><li><span style="font-family: Verdana, sans-serif;">a complete path:</span><span style="font-family: Courier New, Courier, monospace;"> /name/MyName.do</span></li><li><span style="font-family: Verdana, sans-serif;">a directory: </span><span style="font-family: Courier New, Courier, monospace;">/name/*</span></li><li><span style="font-family: Verdana, sans-serif;">an extension: </span><span style="font-family: Courier New, Courier, monospace;">*.do</span></li></ul><div><span style="font-family: Verdana, sans-serif;">The way to retrieve the init parameter in the code is:</span></div><div><span style="font-family: 'Courier New', Courier, monospace;">getServletConfig().getInitParameter("parameter1");</span></div><div><br /></div><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Verdana, sans-serif;"><b>5.4. Use annotations to configure servlets</b></span><br /><span style="font-family: Verdana, sans-serif;"><br /></span><span style="font-family: Verdana, sans-serif;">From the specification Servlets3.0 is possible to declare servlets by annotations (an alternative to deployment descriptor)</span><br /><br /><pre style="background-color: #f9f9fb; border: 1px solid rgb(217, 217, 226); box-sizing: border-box; font-family: menlo, monaco, 'Courier New', Courier, mono, serif; font-size: 13px; line-height: 1.615; margin-bottom: 1em; overflow: auto; padding: 5px; word-wrap: normal !important;"><span style="color: blue;">@WebServlet(name="MyServlet",<br />urlPatterns={"/MyServlet"},<br />initParams={@WebInitParam(name="parameter1", value="value1"),<br />@WebInitParam(name="parameter2", value="value2")})</span><br /><br />public class MyServlet extends HttpServlet {</pre><br /><span style="font-family: Verdana, sans-serif;">WebListener annotation:</span><br /><pre style="background-color: #f9f9fb; border: 1px solid rgb(217, 217, 226); box-sizing: border-box; font-family: menlo, monaco, 'Courier New', Courier, mono, serif; font-size: 13px; line-height: 1.615; margin-bottom: 1em; overflow: auto; padding: 5px; word-wrap: normal !important;"><span style="color: blue;">@WebListener<br /></span>public class MyServletContextListener implements ServletContextListener {</pre><span style="font-family: Verdana, sans-serif;"><br /></span><i style="font-family: Verdana, sans-serif;">OCEJWCD (SCWCD) - 1Z0-899 - Web Component Developer Certification</i><br /><br />
</div>